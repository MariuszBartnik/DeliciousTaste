(this["webpackJsonpzomato-api"]=this["webpackJsonpzomato-api"]||[]).push([[0],Array(29).concat([function(e,t,a){e.exports=a.p+"static/media/1.16d56e69.jpg"},function(e,t,a){e.exports=a.p+"static/media/2.e8bb455a.jpg"},function(e,t,a){e.exports=a.p+"static/media/5.53e0a26a.jpg"},function(e,t,a){e.exports=a.p+"static/media/6.80bb027a.jpg"},function(e,t,a){e.exports=a.p+"static/media/7.329bbd1d.jpg"},function(e,t,a){e.exports=a.p+"static/media/8.d6f4befd.jpg"},function(e,t,a){e.exports=a.p+"static/media/9.d4afc4a6.jpg"},function(e,t,a){e.exports=a.p+"static/media/10.b4973cfb.jpg"},function(e,t,a){e.exports=a.p+"static/media/11.4c54eadc.jpg"},,function(e,t,a){e.exports=a.p+"static/media/not-found.6893a993.svg"},function(e,t,a){e.exports=a.p+"static/media/restaurant-icon.8b2c1d2f.svg"},function(e,t,a){e.exports=a.p+"static/media/menu.dd1fb2f4.svg"},function(e,t,a){e.exports=a.p+"static/media/phone.0c8952c8.svg"},function(e,t,a){e.exports=a.p+"static/media/location.7559cc04.svg"},function(e,t,a){e.exports=a.p+"static/media/checkbox.56bd50a5.svg"},,function(e,t){e.exports="data:image/png;base64,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"},function(e,t,a){e.exports=a(103)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),i=a.n(c),l=(a(52),a(3)),s=a(1),o=(a(53),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"main-title","data-test":"MainTitle"},"Delicious Taste"),r.a.createElement("p",{className:"subtitle"},"Find best restaurant with us"))}),m=a(29),u=a.n(m),d=a(30),p=a.n(d),f=a(31),E=a.n(f),g=a(32),v=a.n(g),h=a(33),b=a.n(h),N=a(34),y=a.n(N),w=a(35),k=a.n(w),x=a(36),A=a.n(x),S=a(37),j=a.n(S),O=[{id:1,src:u.a,alt:"Two burgers"},{id:2,src:p.a,alt:"Bottle and glass of water"},{id:3,src:A.a,alt:"Plate with fruits"},{id:4,src:E.a,alt:"Piece of meat and glass of wine"},{id:5,src:v.a,alt:"Chinease food on a plate"},{id:6,src:j.a,alt:"Pub"},{id:7,src:b.a,alt:"Burger restaurant sign"},{id:8,src:y.a,alt:"Tables in a restaurant"},{id:9,src:k.a,alt:"Glass of cold water with lemon"}],C=a(14),B=(a(54),function(){return Object(n.useEffect)((function(){!function(e,t){var a=C.a.timeline();a.from(e,{opacity:0,translateX:-100,duration:1.5,stagger:.4,ease:"back"}),a.to(t,{translateX:100,rotateZ:-10,rotateX:10,rotateY:5,scale:.9,transformPerspective:900,duration:1.5,ease:"power1"},"-=.1"),a.to(t,{translateX:0,rotateZ:-20,rotateX:20,rotateY:10,scale:.8,transformPerspective:800,duration:2,ease:"none"},"-=.1")}(".img-wrapper",".gallery-grid")})),r.a.createElement("div",{className:"gallery-grid","data-test":"GalleryGrid"},O.map((function(e){return r.a.createElement("div",{className:"img-wrapper",key:e.id},r.a.createElement("img",{src:e.src,alt:e.alt}))})))}),F=(a(55),function(){return r.a.createElement("main",{className:"wrapper","data-test":"MainPageWrapper"},r.a.createElement("div",{className:"flexbox"},r.a.createElement("div",{className:"column"},r.a.createElement(o,null),r.a.createElement("div",null,r.a.createElement(l.b,{to:"/search",className:"filled-button"},"Search for city"),r.a.createElement("a",{href:"https://mariusz-bartnik.firebaseapp.com",className:"outline-button"},"See portfolio"))),r.a.createElement("div",{className:"column"},r.a.createElement(B,null))))}),W=(a(61),a(4)),I=(a(62),function(){var e=Object(n.useState)(""),t=Object(W.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),l=Object(W.a)(i,2),o=l[0],m=l[1],u=Object(s.f)();return r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),function(){m([]);var e=[],t=!0;return a.length<3&&e.push({msg:"City name must be at least 3 chars long"}),/^[a-z\s]+$/i.test(a)||e.push({msg:"City name must contain only letters"}),e.length>0&&(m(e),t=!1),t}()&&u.push("/city-list/".concat(a))},"data-test":"SearchForm"},r.a.createElement("input",{className:"input",placeholder:"Enter city name...",value:a,onChange:function(e){c(e.target.value)},"data-test":"SearchInput",required:!0}),o.length>0&&o.map((function(e){return r.a.createElement("div",{className:"errorMsg",key:e.msg,"data-test":"ErrorMsg"},e.msg)})),r.a.createElement("button",{className:"submit-button",type:"submit"},"Search"))}),D=function(){return r.a.createElement("main",{className:"wrapper","data-test":"SearchPageWrapper"},r.a.createElement("div",{className:"flexbox-column"},r.a.createElement(o,null),r.a.createElement(I,null)))},z=a(9),M=a.n(z),R=a(11),Q=a(8),T=a.n(Q),G=(a(81),function(e){var t=e.city,a=Object(s.f)();return r.a.createElement("div",{className:"found-city",onClick:function(){var e;e=t.id,a.push("/city-details/".concat(e))}},r.a.createElement("img",{className:"country-flag",src:t.country_flag_url,alt:"Flag of"+t.country_name}),r.a.createElement("p",{className:"city-name","data-test":"CityName"},t.name),r.a.createElement("p",{className:"country-name"},t.country_name))}),U=(a(82),function(e){var t=e.cities;return t?r.a.createElement("div",{className:"city-list","data-test":"CitiesList"},t.map((function(e){return r.a.createElement(G,{key:e.id,city:e,"data-test":"CityListItem"})}))):null}),L=a(39),P=a.n(L),_=(a(83),function(){return r.a.createElement("div",{className:"not-found-wrapper"},r.a.createElement("img",{className:"not-found-icon",src:P.a,alt:"Fork and spoon"}),r.a.createElement("div",{className:"not-found-text"},r.a.createElement("h2",null,"Restaurants not found"),r.a.createElement("p",null,"We cannot find any restaurant in this city"),r.a.createElement(l.b,{to:"/search"},"Try again")))}),X=(a(84),function(e){var t=e.theme;return Object(n.useEffect)((function(){var e=C.a.timeline({repeat:-1});e.to(".loading",{height:50,marginTop:0,duration:.5,backgroundColor:"#37ECCB",ease:"none",stagger:.1}),e.to(".loading",{height:0,marginTop:50,duration:.5,backgroundColor:"dark-theme"===t?"#FFF":"#37ECCB",ease:"none",stagger:.1},"-=.5")})),r.a.createElement("div",{className:"loader-wrapper"},r.a.createElement("div",{className:"loading ".concat(t)}),r.a.createElement("div",{className:"loading ".concat(t)}),r.a.createElement("div",{className:"loading ".concat(t)}),r.a.createElement("div",{className:"loading ".concat(t)}),r.a.createElement("div",{className:"loading ".concat(t)}),r.a.createElement("div",{className:"loading ".concat(t)}))}),Y=(a(85),function(){var e=Object(n.useState)(),t=Object(W.a)(e,2),a=t[0],c=t[1],i=Object(s.g)().query;return Object(n.useEffect)((function(){(function(){var e=Object(R.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("/api/cities/",{query:i});case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]),r.a.createElement("main",{className:"scrollable-wrapper","data-test":"CityListPageWrapper"},a?r.a.createElement(r.a.Fragment,null,0===a.location_suggestions.length?r.a.createElement(_,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(o,null),r.a.createElement("div",{className:"container"},r.a.createElement(U,{cities:a.location_suggestions})))):r.a.createElement(X,{theme:"dark-theme"}))}),Z=(a(86),function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement(l.b,{to:"/"},"Delicious Taste"))}),V=(a(87),function(e){var t=e.city,a=e.nightlife_index,n=e.popularity;return r.a.createElement("div",{className:"top-bar"},r.a.createElement(Z,null),r.a.createElement("div",{className:"container"},r.a.createElement("h2",{"data-test":"CityName"},t),r.a.createElement("div",{className:"stat-boxes"},r.a.createElement("div",{className:"statistics"},r.a.createElement("p",null,"Nightlife index"),r.a.createElement("p",{"data-test":"NightlifeIndex"},a)),r.a.createElement("div",{className:"statistics"},r.a.createElement("p",null,"Popularity"),r.a.createElement("p",null,n)))))});V.defaultProps={nightlife_index:"-",popularity:"-"};var H=V,K=(a(88),function(e){return r.a.createElement("div",{className:"header","data-test":"header"},e.children)}),q=a(40),J=a.n(q),$=(a(89),function(e){var t=e.item,a=Object(s.f)();return r.a.createElement("div",{className:"restaurant","data-test":"RestaurantItem",onClick:function(){var e;e=t.id,a.push("/restaurant-details/".concat(e))}},r.a.createElement("div",{className:"restaurant-item-column"},r.a.createElement("img",{className:"thumbnail",src:t.thumb||J.a,alt:"Thumbnail of ".concat(t.name)})),r.a.createElement("div",{className:"restaurant-item-column"},r.a.createElement("h4",{className:"restaurant-name","data-test":"RestaurantName"},t.name),r.a.createElement("p",{className:"restaurant-address"},t.location.address),r.a.createElement("span",{className:"restaurant-rating",style:{background:"#".concat(t.user_rating.rating_color)}},t.user_rating.aggregate_rating)))}),ee=(a(90),function(e){var t=e.item;return r.a.createElement("div",{className:"collection",style:{background:"url(".concat(t.image_url,")")},key:t.collection_id},r.a.createElement("div",{className:"text-wrapper"},r.a.createElement("h4",{className:"collection-title"},t.title),r.a.createElement("p",{className:"collection-desc","data-test":"CollectionDesc"},t.description),r.a.createElement(l.b,{to:"/collection-details/".concat(t.city_id,"/").concat(t.collection_id),className:"action-link"},"".concat(t.res_count," restaurants >>"))))}),te=(a(91),function(e){var t=e.showMore,a=e.toggleShowMore;return r.a.createElement("button",{className:"show-more-button","data-test":"ShowMoreButton",onClick:function(){return a()}},t?"Show less":"Show more")}),ae=(a(92),function(e){var t,a=e.title,c=e.subtitle,i=e.component,l=e.list,s=e.expandable,o=Object(n.useState)(!1),m=Object(W.a)(o,2),u=m[0],d=m[1],p=s?(t=l,u?t:t.slice(0,2)):l,f={restaurant:$,collection:ee}[i];return r.a.createElement("section",{"data-test":"ListWrapper"},r.a.createElement(K,null,r.a.createElement("h3",null,a),r.a.createElement("p",null," ",c," ")),r.a.createElement("div",{className:"list-wrapper"},p.map((function(e){return r.a.createElement(f,{key:"restaurant"===i?e.restaurant.id:e.collection.collection_id,item:e[i],"data-test":"ListItem"})}))),s&&l.length>2&&r.a.createElement(te,{showMore:u,toggleShowMore:function(){d(!u)},"data-test":"ShowMoreButton"}))}),ne=(a(93),function(e){var t=e.city,a=e.cuisines;return r.a.createElement("section",null,r.a.createElement(K,null,r.a.createElement("h3",null,"Top cuisines"),r.a.createElement("p",null,"Try most popular cuisines in ",t," ")),r.a.createElement("div",{className:"cuisines-list"},a.map((function(e){return r.a.createElement("div",{className:"cuisine",key:e,"data-test":"CuisineItem"},e)}))))});a(94);function re(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"copy"},"Mariusz Bartnik \xa9 2020"),r.a.createElement("div",{className:"author-info"},r.a.createElement("div",{className:"info-detail"},r.a.createElement("h5",null,"Website"),r.a.createElement("a",{href:"mariusz-bartnik.firebaseapp.com"},"mariusz-bartnik@firebaseapp.com")),r.a.createElement("div",{className:"info-detail"},r.a.createElement("h5",null,"Email"),r.a.createElement("a",{href:"mailto:mariuszbartnik@gmail.com"},"mariuszbartnik@gmail.com")),r.a.createElement("div",{className:"info-detail"},r.a.createElement("h5",null,"Phone"),r.a.createElement("a",{href:"tel:+48531986590"},"+48 531 986 590")))))}var ce=function(){var e=Object(n.useState)(),t=Object(W.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(),l=Object(W.a)(i,2),o=l[0],m=l[1],u=Object(s.g)().id;return Object(n.useEffect)((function(){(function(){var e=Object(R.a)(M.a.mark((function e(){var t,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("/api/location-details/",{id:u});case 2:return t=e.sent,e.next=5,T.a.post("/api/collections/",{id:u});case 5:a=e.sent,c(t.data),m(a.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u]),r.a.createElement("main",{"data-test":"CityDetailsPageWrapper"},a&&o?r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{city:a.city,nightlife_index:a.nightlife_index,popularity:a.popularity}),r.a.createElement("div",{className:"container"},r.a.createElement(ae,{title:"Best restaurants",subtitle:"Check the best restaurants in ".concat(a.city),list:a.best_rated_restaurant,component:"restaurant",expandable:!0}),r.a.createElement(ne,{city:a.city,cuisines:a.top_cuisines}),o.collections?r.a.createElement(ae,{title:"Collections",subtitle:"Look for some fun events in ".concat(a.city),list:o.collections,component:"collection",expandable:!0}):null),r.a.createElement(re,null)):r.a.createElement(X,{theme:"light-theme"}))},ie=(a(95),function(e){var t=e.name,a=e.bg_img;return r.a.createElement("div",{className:"restaurant-top-bar",style:{background:"url(".concat(a,")"),backgroundSize:"cover",backgroundPosition:"center center"},"data-test":"NameTopBar"},r.a.createElement("div",{className:"top-bar-wrapper"},r.a.createElement(Z,null),r.a.createElement("h2",null,t)))}),le=a(41),se=a.n(le),oe=a(42),me=a.n(oe),ue=a(43),de=a.n(ue),pe=(a(96),function(e){var t=e.menu_url,a=e.phone,n=e.address;return r.a.createElement("div",{className:"contact-info-bar"},r.a.createElement("div",{className:"contact-detail","data-test":"ContactDetails"},r.a.createElement("img",{src:se.a,alt:"Menu"}),r.a.createElement("a",{href:t},"Check menu")),r.a.createElement("div",{className:"contact-detail","data-test":"ContactDetails"},r.a.createElement("img",{src:me.a,alt:"Phone"}),r.a.createElement("p",null,a)),r.a.createElement("div",{className:"contact-detail","data-test":"ContactDetails"},r.a.createElement("img",{src:de.a,alt:"Address"}),r.a.createElement("p",null,n)))}),fe=a(44),Ee=a.n(fe),ge=(a(97),function(e){var t,a=e.cuisines,n=e.highlights,c=(t=",",a.split(t).map((function(e){return e.trim()})));return r.a.createElement("section",{"data-test":"RestaurantBasicInfo"},r.a.createElement(K,null,r.a.createElement("h3",null,"Restaurant Info"),r.a.createElement("p",null,"Learn more about this restaurant")),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"info-box"},r.a.createElement("span",{className:"info-title"},"Cuisines"),c.map((function(e){return r.a.createElement("div",{className:"info-content",key:e,"data-test":"Cuisine"},e)}))),r.a.createElement("div",{className:"info-box"},r.a.createElement("span",{className:"info-title"},"More info"),n.map((function(e,t){return r.a.createElement("div",{className:"highlight-item",key:e,"data-test":"Highlight"},r.a.createElement("img",{src:Ee.a,alt:t+1}),e)})))))}),ve=a(45),he=a.n(ve),be=(a(101),function(e){var t=e.reviews;return t?r.a.createElement("section",{"data-test":"RestaurantReviews"},r.a.createElement(K,null,r.a.createElement("h3",null,"Guest reviews"),r.a.createElement("p",null,"Check what other people think about this place")),r.a.createElement("div",{className:"container"},t.map((function(e){return r.a.createElement("div",{className:"review-box",key:e.review.id,"data-test":"ReviewItem"},r.a.createElement("div",{className:"user-box"},r.a.createElement("img",{className:"user-img",src:e.review.user.profile_image,alt:e.review.user.name}),r.a.createElement("p",{className:"user-name"},e.review.user.name),r.a.createElement("span",{className:"user-level",style:{background:"#".concat(e.review.user.foodie_color)}},e.review.user.foodie_level||"Guest")),r.a.createElement("div",{className:"rating-box"},r.a.createElement(he.a,{className:"star-ratings",rating:e.review.rating,starRatedColor:"#37ECCB",starEmptyColor:"#A1A1A1",starDimension:"30px",starSpacing:"3px"}),r.a.createElement("p",{className:"review-text"},e.review.review_text),r.a.createElement("p",{className:"review-date"},e.review.review_time_friendly)))})))):null}),Ne=a(46),ye=a.n(Ne),we=(a(102),function(e){var t=e.coordinates,a=function(){var e=document.getElementById("myMap"),a={lat:+t.lat,lng:+t.lng},n=new window.google.maps.Map(e,{center:a,zoom:12,disableDefaultUI:!0});new window.google.maps.Marker({map:n,position:a,icon:ye.a})};return Object(n.useEffect)((function(){if(window.google)a();else{var e=document.createElement("script");e.type="text/javascript",e.src="https://maps.google.com/maps/api/js?key=AIzaSyDmuqYu3m5xiX4-3yCzxDqa7lTS9glZdWQ&v=3";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),e.addEventListener("load",(function(){a()}))}}),[]),r.a.createElement("div",{className:"map-canvas",id:"myMap"})}),ke=function(e){var t=e.coordinates;return r.a.createElement("section",null,r.a.createElement(K,null,r.a.createElement("h3",null,"Location"),r.a.createElement("p",null,"Find this place easily with our website")),r.a.createElement(we,{coordinates:t}))},xe=function(){var e=Object(n.useState)(),t=Object(W.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(),l=Object(W.a)(i,2),o=l[0],m=l[1],u=Object(s.g)().id;return Object(n.useEffect)((function(){(function(){var e=Object(R.a)(M.a.mark((function e(){var t,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("/api/restaurant-details",{id:u});case 2:return t=e.sent,e.next=5,T.a.post("/api/customers-reviews",{id:u});case 5:a=e.sent,c(t.data),m(a.data.user_reviews);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u]),r.a.createElement("main",{"data-test":"RestaurantDetailsPageWrapper"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{name:a.name,bg_img:a.featured_image}),r.a.createElement(pe,{phone:a.phone_numbers,address:a.location.address,menu_url:a.menu_url}),r.a.createElement(ge,{cuisines:a.cuisines,highlights:a.highlights}),r.a.createElement(be,{reviews:o}),r.a.createElement(ke,{coordinates:{lat:a.location.latitude,lng:a.location.longitude}}),r.a.createElement(re,null)):r.a.createElement(X,{theme:"light-theme"}))},Ae=function(){var e=Object(n.useState)(),t=Object(W.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(),l=Object(W.a)(i,2),o=l[0],m=l[1],u=Object(s.g)(),d=u.cityId,p=u.collectionId;return Object(n.useEffect)((function(){(function(){var e=Object(R.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("/api/collection-restaurants/",{cityId:d,collectionId:p});case 2:t=e.sent,c(t.data.collection),m(t.data.restaurants);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d,p]),r.a.createElement("main",{"data-test":"RestaurantDetailsPageWrapper"},a&&o?r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{name:a.title,bg_img:a.image_url}),r.a.createElement("div",{className:"container"},r.a.createElement(ae,{title:"Collection Restaurants",subtitle:"Check restaurants included in this collection",list:o,component:"restaurant",expandable:!1})),r.a.createElement(re,null)):r.a.createElement(X,{theme:"light-theme"}))};T.a.defaults.baseURL="https://zomato-api-restaurants.herokuapp.com";var Se=function(){return r.a.createElement("div",null,r.a.createElement(l.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/collection-details/:cityId/:collectionId",component:Ae}),r.a.createElement(s.a,{path:"/restaurant-details/:id",component:xe}),r.a.createElement(s.a,{path:"/city-details/:id",component:ce}),r.a.createElement(s.a,{path:"/city-list/:query",component:Y}),r.a.createElement(s.a,{path:"/search",component:D}),r.a.createElement(s.a,{path:"/",component:F}))))},je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Oe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Se,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");je?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Oe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Oe(t,e)}))}}()}]),[[47,1,2]]]);
//# sourceMappingURL=main.ec649563.chunk.js.map